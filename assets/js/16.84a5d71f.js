(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{413:function(a,t,s){"use strict";s.r(t);var r=s(2),e=Object(r.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"vituralbox和vagrant"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vituralbox和vagrant"}},[a._v("#")]),a._v(" Vituralbox和Vagrant")]),a._v(" "),t("p",[t("strong",[a._v("下载&安装")])]),a._v(" "),t("p",[a._v("VirtualBox")]),a._v(" "),t("p",[a._v("https://www.virtualbox.org/，要开启 CPU 虚拟化")]),a._v(" "),t("p",[a._v("Vagrant")]),a._v(" "),t("p",[a._v("https://app.vagrantup.com/boxes/search Vagrant 官方镜像仓库")]),a._v(" "),t("p",[a._v("https://www.vagrantup.com/downloads.html Vagrant 下载")]),a._v(" "),t("p",[t("strong",[a._v("安装centos7")])]),a._v(" "),t("p",[a._v("vagrant init centos/7")]),a._v(" "),t("p",[a._v("vagrant up")]),a._v(" "),t("p",[a._v("下载链接：https://cloud.centos.org/centos/7/vagrant/x86_64/images/CentOS-7-x86_64-Vagrant-2004_01.VirtualBox.box")]),a._v(" "),t("p",[a._v("vagrant box add centos/7 CentOS-7-x86_64-Vagrant-2004_01.VirtualBox.box")]),a._v(" "),t("p",[a._v("vagrant up")]),a._v(" "),t("p",[a._v("vagrant ssh")]),a._v(" "),t("p",[a._v("vagrant halt")]),a._v(" "),t("p",[a._v("vagrant  reload")]),a._v(" "),t("p",[a._v("给虚拟机固定的IP地址：修改vagrant的配置文件然后重启")]),a._v(" "),t("p",[t("strong",[a._v("设置允许账号密码登录")])]),a._v(" "),t("p",[a._v("远程连接虚拟机，输入 vagrant ssh")]),a._v(" "),t("p",[a._v("输入 sudo vi /etc/ssh/sshd_config")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("按i键进入编辑模式（右下角显示insert）\n去掉PermitRootLogin  yes  和 PasswordAuthentication  yes前的#号\n在PasswordAuthentication  no 前加上#\nEsc --\x3e :wq(保存并退出)         \n")])])]),t("p",[a._v("重启SSHD, 输入systemctl restart sshd（密码为vagrant）")]),a._v(" "),t("h2",{attrs:{id:"docker"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#docker"}},[a._v("#")]),a._v(" docker")]),a._v(" "),t("p",[a._v("centos 7安装docker教程：")]),a._v(" "),t("p",[a._v("https://docs.docker.com/engine/install/centos/")]),a._v(" "),t("p",[a._v("启动docker")]),a._v(" "),t("p",[a._v("systemctl start docker")]),a._v(" "),t("p",[a._v("设置开机自启动")]),a._v(" "),t("p",[a._v("systemctl enable docker")]),a._v(" "),t("p",[a._v("配置docker的下载镜像")]),a._v(" "),t("p",[a._v("https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors")]),a._v(" "),t("p",[a._v('centos的：\nsudo mkdir -p /etc/docker\nsudo tee /etc/docker/daemon.json <<-\'EOF\'\n{\n"registry-mirrors": ["https://t5wkm4ke.mirror.aliyuncs.com"]\n}\nEOF\nsudo systemctl daemon-reload\nsudo systemctl restart docker')]),a._v(" "),t("p",[a._v("su root 切换到root用户")]),a._v(" "),t("h2",{attrs:{id:"mysql"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[a._v("#")]),a._v(" Mysql")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull mysql:5.7\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v(":3306 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" mysql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/mysql/log:/var/log/mysql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/mysql/data:/var/lib/mysql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/mysql/conf:/etc/mysql "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" mysql:5.7\n\n参数说明\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v(":3306：将容器的 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v(" 端口映射到主机的 "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v(" 端口\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/mysql/conf:/etc/mysql：将配置文件夹挂载到主机\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/mysql/log:/var/log/mysql：将日志文件夹挂载到主机\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/mysql/data:/var/lib/mysql/：将配置文件夹挂载到主机\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root：初始化 root 用户的密码\n")])])]),t("p",[a._v("配置文件")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /mydata/mysql/conf/my.cnf\n\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("client"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\ndefault-character-set"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("mysql"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\ndefault-character-set"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),a._v("mysqld"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("init_connect")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'SET collation_connection = utf8_unicode_ci'")]),a._v(" \n"),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("init_connect")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'SET NAMES utf8'")]),a._v(" \ncharacter-set-server"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8\ncollation-server"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("utf8_unicode_ci\nskip-character-set-client-handshake\nskip-name-resolve\n")])])]),t("p",[a._v("连接：docker exec -it mysql mysql -uroot -proot")]),a._v(" "),t("p",[a._v("进入容器文件系统：docker exec -it mysql /bin/bash")]),a._v(" "),t("h2",{attrs:{id:"redis"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#redis"}},[a._v("#")]),a._v(" Redis")]),a._v(" "),t("div",{staticClass:"language-shell extra-class"},[t("pre",{pre:!0,attrs:{class:"language-shell"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" pull redis\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" /mydata/redis/conf\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("touch")]),a._v(" /mydata/redis/conf/redis.conf\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("6379")]),a._v(":6379 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" redis "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/redis/data:/data "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /mydata/redis/conf/redis.conf:/etc/redis/redis.conf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" redis redis-server /etc/redis/redis.conf\n")])])]),t("p",[a._v("测试连接：docker exec -it redis redis-cli")]),a._v(" "),t("h2",{attrs:{id:"npm下载地址"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#npm下载地址"}},[a._v("#")]),a._v(" NPM下载地址")]),a._v(" "),t("p",[a._v("配置npm下载路径：\nnpm config set registry https://registry.npm.taobao.org")])])}),[],!1,null,null,null);t.default=e.exports}}]);